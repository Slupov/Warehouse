@using System.Reflection
@using Warehouse.Data.Models
@using Warehouse.Web.Models.Components
@using Warehouse.Web.Views.Shared.Components
@model IEnumerable<Warehouse.Data.Models.BankAccount>

@{
    ViewData["Title"] = "Bank accounts";
    ViewData["TitleDescription"] = "Here you can see a list of all bank accounts linked to your company.";

    GenericViewObjectModel genericVM = new GenericViewObjectModel();
    genericVM.Object = Model;

    genericVM.PropsToShow = new List<string>()
    {
        string.Join('.', nameof(BankAccount), nameof(BankAccount.Company), nameof(BankAccount.Company.Name)),
        string.Join('.', nameof(BankAccount), nameof(BankAccount.IBAN)),
        string.Join('.', nameof(BankAccount), nameof(BankAccount.BIC)),
        string.Join('.', nameof(BankAccount), nameof(BankAccount.Currency))
    };
}

@await Component.InvokeAsync(nameof(GenericIndexViewViewComponent).Replace("ViewComponent", ""), genericVM)