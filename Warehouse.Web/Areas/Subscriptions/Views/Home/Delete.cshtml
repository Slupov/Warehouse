@using Warehouse.Data.Models
@using Warehouse.Web.Infrastructure
@using Warehouse.Web.Models.Components
@using Warehouse.Web.Views.Shared.Components
@model Warehouse.Data.Models.Subscription

@{
    ViewData["Title"] = "Delete subscription";
    ViewData["TitleDescription"] = "Are you sure you want to delete this subscription?";

    GenericViewObjectModel genericVM = new GenericViewObjectModel();
    genericVM.Object = Model;

    genericVM.PropsToShow = new List<string>()
    {
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.Company.Name),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.RequestedOn),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.PayedOn),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.ForMonths),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.ForUsers),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.TotalPrice),
        ReflectionHelpers.GetComplexPropName<Subscription>(x => x.PaymentStatus)
    };
}

@await Component.InvokeAsync(nameof(GenericDeleteViewViewComponent).Replace("ViewComponent", ""), genericVM)